---
title: "操作系统"
description: 
date: 2024-03-13T16:49:29+08:00
image:
url: /go/os
math: true
comments: true
draft: false
categories:
    - Go
---

# 进程和线程

1. 进程是指计算机中正在运行的一个程序示例
2. 线程也被成为轻量级进程,一个进程内部包含多个线程,并且共享进程的资源比如address space,文件句柄,等

一个进程内的多个线程通向进程的数据结构,并且可以相互访问,而且线程的上下文切换和进程一样也是由操作系统来负责的

PCB(进程控制块),是操作系统中用来管理和跟踪进程的数据结构,每个进程都对应着一个独立的PCB.
当操作系统创建一个新进程时,会为该进程分配一个唯一的进程ID,并且为该进程创建一个PCB,当进程执行时,PCB中的信息不断变化

## 进程的状态
1. 创建状态(new): 进程正在被创建,尚未到就绪状态
2. 就绪状态(ready): 进程已经准备好运行,获得了除了cpu之外的一切所需资源,一旦得到cpu分片即可执行
3. 运行状态(running):进程正在cpu上执行
4. 阻塞状态(waiting): 又称等待状态,进程正在等待某一时间而暂停运行
5. 结束状态(terminated): 进程正在从系统中消失。可能是进程正常结束或其他原因中断退出运行。

# 死锁

产生死锁的四个必要条件
1. 互斥：资源必须处于非共享模式，即一次只有一个进程可以使用。
2. 占有并等待：一个进程至少应该占有一个资源，并等待另一资源，而该资源被其他进程所占有。
3. 非抢占：资源不能被抢占。只能在持有资源的进程完成任务后，该资源才会被释放。
4. 循环等待： 资源等待图中存在环
